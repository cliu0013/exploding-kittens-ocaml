<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Author.html">
<link rel="next" href="Move.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Author" rel="Chapter" href="Author.html">
<link title="Deck" rel="Chapter" href="Deck.html">
<link title="Move" rel="Chapter" href="Move.html">
<link title="Main" rel="Chapter" href="Main.html"><title>Deck</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Author.html" title="Author">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Move.html" title="Move">Next</a>
</div>
<h1>Module <a href="type_Deck.html">Deck</a></h1>

<pre><span id="MODULEDeck"><span class="keyword">module</span> Deck</span>: <code class="code">sig</code> <a href="Deck.html">..</a> <code class="code">end</code></pre><div class="info module top">
<div class="info-desc">
<p>Represents the deck of cards and the players for the Exploding
    Kittens game.</p>
</div>
</div>
<hr width="100%">

<pre><code><span id="TYPEst"><span class="keyword">type</span> <code class="type"></code>st</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTst.BOMBED"><span class="constructor">BOMBED</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTst.SAFE"><span class="constructor">SAFE</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTst.ATTACKED"><span class="constructor">ATTACKED</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTst.DEAD"><span class="constructor">DEAD</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTst.SKIPPED"><span class="constructor">SKIPPED</span></span></code></td>

</tr></table>

<div class="info ">
<div class="info-desc">
<p>AF: <code class="code">st</code> the states for the players. <code class="code">BOMBED</code> means the player just
    drew an exploding kitten. <code class="code">SAFE</code> means the player is safe.
    <code class="code">ATTACKED</code> means the player is attacked by the other player. <code class="code">DEAD</code>
    means the player is out of the game.</p>
</div>
</div>


<pre><span id="TYPEcard_name"><span class="keyword">type</span> <code class="type"></code>card_name</span> = <code class="type">string</code> </pre>


<pre><code><span id="TYPEcard_id"><span class="keyword">type</span> <code class="type"></code>card_id</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTcard_id.name">name</span>&nbsp;: <code class="type"><a href="Deck.html#TYPEcard_name">card_name</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTcard_id.genre">genre</span>&nbsp;: <code class="type">string</code>;</code></td>

</tr></table>
<code>}</code>



<pre><code><span id="TYPEcard_rem"><span class="keyword">type</span> <code class="type"></code>card_rem</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTcard_rem.name">name</span>&nbsp;: <code class="type"><a href="Deck.html#TYPEcard_name">card_name</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTcard_rem.genre">genre</span>&nbsp;: <code class="type">string</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTcard_rem.copies">copies</span>&nbsp;: <code class="type">int</code>;</code></td>

</tr></table>
<code>}</code>

<div class="info ">
<div class="info-desc">
<p>AF: <code class="code">card_rem</code> the remainly cards in the deck. <code class="code">copies</code> records the
    number of the card with name equal to <code class="code">name</code> that are in the
    <code class="code">cards_left</code> field of a deck <code class="code">d</code>. ** RI: <code class="code">copies</code> is non-negative.</p>
</div>
</div>


<pre><code><span id="TYPEd"><span class="keyword">type</span> <code class="type"></code>d</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTd.cards_used">cards_used</span>&nbsp;: <code class="type"><a href="Deck.html#TYPEcard_id">card_id</a> list</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTd.cards_left">cards_left</span>&nbsp;: <code class="type"><a href="Deck.html#TYPEcard_id">card_id</a> list</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTd.cards_info">cards_info</span>&nbsp;: <code class="type"><a href="Deck.html#TYPEcard_rem">card_rem</a> list</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTd.directory">directory</span>&nbsp;: <code class="type"><a href="Deck.html#TYPEcard_id">card_id</a> list</code>;</code></td>

</tr></table>
<code>}</code>

<div class="info ">
<div class="info-desc">
<p>AF: <code class="code">d</code> the deck that represents the whole deck of cards, including
    <code class="code">cards_used</code> which are all the cards that have been used,
    <code class="code">cards_left</code> which are all the cards that can be drawn, and
    <code class="code">cards_info</code> which records the information of the cards left (for
    the ease of testing). ** RI: <code class="code">cards_left</code> is never empty because the
    bombs would never be drawn. <code class="code">cards_info</code> is set-like.</p>
</div>
</div>


<pre><span id="TYPEplayer_id"><span class="keyword">type</span> <code class="type"></code>player_id</span> = <code class="type">int</code> </pre>


<pre><code><span id="TYPEplayer"><span class="keyword">type</span> <code class="type"></code>player</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTplayer.hand">hand</span>&nbsp;: <code class="type"><a href="Deck.html#TYPEcard_id">card_id</a> list</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTplayer.id">id</span>&nbsp;: <code class="type"><a href="Deck.html#TYPEplayer_id">player_id</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTplayer.state">state</span>&nbsp;: <code class="type"><a href="Deck.html#TYPEst">st</a></code>;</code></td>

</tr></table>
<code>}</code>

<div class="info ">
<div class="info-desc">
<p>AF: <code class="code">player</code> the player type that represents a single player. If
    <code class="code">id</code> = 0 it implies that it's the human player. Otherwise, it's an
    AI player. ** RI: <code class="code">id</code> is non-negative and unique.</p>
</div>
</div>


<pre><code><span id="TYPEp"><span class="keyword">type</span> <code class="type"></code>p</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTp.ai">ai</span>&nbsp;: <code class="type"><a href="Deck.html#TYPEplayer">player</a> list</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTp.user">user</span>&nbsp;: <code class="type"><a href="Deck.html#TYPEplayer">player</a></code>;</code></td>

</tr></table>
<code>}</code>

<div class="info ">
<div class="info-desc">
<p>AF: <code class="code">p</code> the players that represents all players of the game. ** RI:
    <code class="code">user.id</code> = 0 and for any player <code class="code">ply</code> in <code class="code">ai</code> we have <code class="code">ply.id</code> not
    equal to 0. Also <code class="code">ai</code> is non-empty.</p>
</div>
</div>


<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = <code class="type"><a href="Deck.html#TYPEd">d</a> * <a href="Deck.html#TYPEp">p</a></code> </pre>
<div class="info ">
<div class="info-desc">
<p>AF: <code class="code">t</code> the whole deck of cards and all the players. First entry is
    the deck, and the second entry is the players.</p>
</div>
</div>


<pre><span id="VALfrom_json"><span class="keyword">val</span> from_json</span> : <code class="type">Yojson.Basic.t -> <a href="Deck.html#TYPEd">d</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">from_json j</code> is the card deck that <code class="code">j</code> represents. RI: <code class="code">j</code> is a
    valid JSON representation for a deck of cards.</p>
</div>
</div>

<pre><span id="VALnum_cards"><span class="keyword">val</span> num_cards</span> : <code class="type"><a href="Deck.html#TYPEd">d</a> -> int</code></pre>
<pre><span id="VALnum_alive"><span class="keyword">val</span> num_alive</span> : <code class="type"><a href="Deck.html#TYPEp">p</a> -> int</code></pre>
<pre><span id="VALshuffle"><span class="keyword">val</span> shuffle</span> : <code class="type"><a href="Deck.html#TYPEcard_id">card_id</a> list -> <a href="Deck.html#TYPEcard_id">card_id</a> list</code></pre>
<pre><span id="VALgame_start"><span class="keyword">val</span> game_start</span> : <code class="type"><a href="Deck.html#TYPEd">d</a> -> int -> <a href="Deck.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">cards_start d k</code> is the initialized game. The rule of dealing the
    start hand for the human player is to first exclude all Bombs and
    Diffuses from the deck, deal 7 random cards with 1 Diffuse to the
    person, and then put the removed Bombs and Diffuses back to the deck
    with a shuffle. <code class="code">t = (d, p)</code> would be the return value where there
    will be <code class="code">k</code> number of players in <code class="code">p</code> including the human user.</p>
</div>
</div>

<pre><span id="VALget_hand"><span class="keyword">val</span> get_hand</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> <a href="Deck.html#TYPEcard_id">card_id</a> list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_hand t</code> is a list of all of cards that are in the hand of the
    human user.</p>
</div>
</div>

<pre><span id="VALcards_left"><span class="keyword">val</span> cards_left</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> <a href="Deck.html#TYPEcard_id">card_id</a> list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">cards_left t</code> is a list of all of cards that can be drawn in later
    game.</p>
</div>
</div>

<pre><span id="VALcards_used"><span class="keyword">val</span> cards_used</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> <a href="Deck.html#TYPEcard_id">card_id</a> list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">cards_left t</code> is a list of all of cards that have been used in the
    game.</p>
</div>
</div>

<pre><span id="VALcards_info"><span class="keyword">val</span> cards_info</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> <a href="Deck.html#TYPEcard_rem">card_rem</a> list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">cards_info t</code> is a list of all the information of the cards that
    can be drawn in later game.</p>
</div>
</div>

<pre><span id="VALchange_state"><span class="keyword">val</span> change_state</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> <a href="Deck.html#TYPEplayer_id">player_id</a> -> <a href="Deck.html#TYPEst">st</a> -> <a href="Deck.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">change_state t player_id st</code> changes the state of the player whose
    id is <code class="code">player_id</code> to <code class="code">st</code>.</p>
</div>
</div>

<pre><span id="VALdraw_card"><span class="keyword">val</span> draw_card</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> <a href="Deck.html#TYPEplayer_id">player_id</a> -> <a href="Deck.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">draw_card t player_id</code> let the player whose id is <code class="code">player_id</code> to
    draw a card. The player try to draw the head of the deck's
    <code class="code">cards_left</code>. If the player tries to draw a bomb, they don't draw it
    but instead change their state to <code class="code">BOMBED</code>; otherwise draw the
    non-bomb card.</p>
</div>
</div>

<pre><span id="VALuse_card"><span class="keyword">val</span> use_card</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> <a href="Deck.html#TYPEplayer_id">player_id</a> -> <a href="Deck.html#TYPEcard_name">card_name</a> -> int -> <a href="Deck.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">rec use_card t player_id card_name num</code> lets the player whose id is
    <code class="code">player_id</code> to use a card. The function puts the used card to
    <code class="code">cards_used</code> of the deck and does nothing else in particular.
    use_card repeats for the <code class="code">num</code> times ** RI: the player has the card.
    Should use <code class="code">player_have_card t player_id card_name</code> to guarantee
    this RI.</p>
</div>
</div>

<pre><span id="VALtransfer_card"><span class="keyword">val</span> transfer_card</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> <a href="Deck.html#TYPEplayer_id">player_id</a> -> <a href="Deck.html#TYPEplayer_id">player_id</a> -> <a href="Deck.html#TYPEcard_name">card_name</a> -> <a href="Deck.html#TYPEt">t</a> * bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">transfer_card t player_id1 player_id2 card_name</code> let player1 whose
    id is <code class="code">player_id1</code> to transfer the card whose name is <code class="code">card_name</code> to
    player2 whose id is <code class="code">player_id2</code>. ** RI: player1 has the card.
    Should use <code class="code">player_have_card t player_id1 card_name</code> to guarantee
    this RI.</p>
</div>
</div>

<pre><span id="VALtake_card"><span class="keyword">val</span> take_card</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> <a href="Deck.html#TYPEplayer_id">player_id</a> -> <a href="Deck.html#TYPEcard_name">card_name</a> -> <a href="Deck.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">take_card t player_id card_name</code> let player whose id is <code class="code">player_id</code>
    to take a card from the used cards of the deck. ** RI: the used
    cards in the deck has the card. Should use
    <code class="code">used_have_card t card_name</code> to guarantee this RI.</p>
</div>
</div>

<pre><span id="VALused_have_card"><span class="keyword">val</span> used_have_card</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> <a href="Deck.html#TYPEcard_name">card_name</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">used_have_card t card_name</code> returns true if there is a card with
    <code class="code">card_name</code> in the used cards of the deck; otherwise returns false.</p>
</div>
</div>

<pre><span id="VALplayer_have_card"><span class="keyword">val</span> player_have_card</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> <a href="Deck.html#TYPEplayer_id">player_id</a> -> <a href="Deck.html#TYPEcard_name">card_name</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">used_have_card t card_name</code> returns true if there is a card with
    <code class="code">card_name</code> in the hand of the player with id equal to <code class="code">player_id</code>;
    otherwise returns false.</p>
</div>
</div>

<pre><span id="VALcheck_state"><span class="keyword">val</span> check_state</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> <a href="Deck.html#TYPEplayer_id">player_id</a> -> <a href="Deck.html#TYPEst">st</a></code></pre>
<pre><span id="VALfind_player"><span class="keyword">val</span> find_player</span> : <code class="type"><a href="Deck.html#TYPEp">p</a> -> <a href="Deck.html#TYPEplayer_id">player_id</a> -> <a href="Deck.html#TYPEplayer">player</a></code></pre>
<pre><span id="VALget_genre"><span class="keyword">val</span> get_genre</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> string -> string</code></pre>
<pre><span id="VALnum_copies"><span class="keyword">val</span> num_copies</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> <a href="Deck.html#TYPEplayer_id">player_id</a> -> string -> int</code></pre>
<pre><span id="VALis_id"><span class="keyword">val</span> is_id</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> <a href="Deck.html#TYPEplayer_id">player_id</a> -> bool</code></pre>
<pre><span id="VALis_card"><span class="keyword">val</span> is_card</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> string -> bool</code></pre>
<pre><span id="VALpeek"><span class="keyword">val</span> peek</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> int -> <a href="Deck.html#TYPEcard_id">card_id</a> list</code></pre>
<pre><span id="VALpeek_print"><span class="keyword">val</span> peek_print</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> int -> unit</code></pre>
<pre><span id="VALtransfer_card_rand"><span class="keyword">val</span> transfer_card_rand</span> : <code class="type"><a href="Deck.html#TYPEt">t</a> -> <a href="Deck.html#TYPEplayer_id">player_id</a> -> <a href="Deck.html#TYPEplayer_id">player_id</a> -> <a href="Deck.html#TYPEt">t</a> * string</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">transfer_card_rand t player_id1 player_id2 card_name</code> is the same
    as the non-rand version, except that a random card is transferred
    rather than a specified card</p>
</div>
</div>
</body></html>
